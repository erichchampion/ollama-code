<?xml version="1.0" encoding="UTF-8"?><xsl:stylesheet xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" xmlns:e="pdf-theme" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" xmlns:opentopic-func="http://www.idiominc.com/opentopic/exsl/function" xmlns:opentopic="http://www.idiominc.com/opentopic" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="2.0" exclude-result-prefixes="xs e dita-ot ditaarch opentopic opentopic-func"><xsl:template match="/" mode="create-page-sequences"><xsl:call-template name="generate-page-sequence-master"><xsl:with-param name="master-name" select="'toc-sequence'"/><xsl:with-param name="master-reference" select="'toc'"/><xsl:with-param name="first" select="false()"/><xsl:with-param name="last" select="false() and true()"/><xsl:with-param name="blank" select="false()"/></xsl:call-template><xsl:call-template name="generate-page-sequence-master"><xsl:with-param name="master-name" select="'body-sequence'"/><xsl:with-param name="master-reference" select="'body'"/><xsl:with-param name="first" select="false()"/><xsl:with-param name="last" select="false() and true()"/><xsl:with-param name="blank" select="false()"/></xsl:call-template><xsl:call-template name="generate-page-sequence-master"><xsl:with-param name="master-name" select="'ditamap-body-sequence'"/><xsl:with-param name="master-reference" select="'body'"/><xsl:with-param name="first" select="false()"/><xsl:with-param name="last" select="false()"/><xsl:with-param name="blank" select="false()"/></xsl:call-template><xsl:call-template name="generate-page-sequence-master"><xsl:with-param name="master-name" select="'index-sequence'"/><xsl:with-param name="master-reference" select="'index'"/><xsl:with-param name="first" select="false()"/><xsl:with-param name="last" select="false() and true()"/><xsl:with-param name="blank" select="false()"/></xsl:call-template><xsl:call-template name="generate-page-sequence-master"><xsl:with-param name="master-name" select="'front-matter'"/><xsl:with-param name="master-reference" select="'front-matter'"/><xsl:with-param name="first" select="false()"/><xsl:with-param name="last" select="false() and true()"/><xsl:with-param name="blank" select="false()"/></xsl:call-template><xsl:if test="$generate-back-cover"><xsl:call-template name="generate-page-sequence-master"><xsl:with-param name="master-name" select="'back-cover'"/><xsl:with-param name="master-reference" select="'back-cover'"/><xsl:with-param name="first" select="false()"/></xsl:call-template></xsl:if><xsl:call-template name="generate-page-sequence-master"><xsl:with-param name="master-name" select="'glossary-sequence'"/><xsl:with-param name="master-reference" select="'glossary'"/><xsl:with-param name="first" select="false()"/><xsl:with-param name="last" select="false() and true()"/><xsl:with-param name="blank" select="false()"/></xsl:call-template></xsl:template><xsl:template name="generate-page-sequence-master"><xsl:param name="master-name"/><xsl:param name="master-reference"/><xsl:param name="first" select="true()"/><xsl:param name="last" select="true()"/><xsl:param name="blank" select="false()"/><fo:page-sequence-master master-name="{$master-name}"><fo:repeatable-page-master-alternatives><xsl:if test="$first"><fo:conditional-page-master-reference master-reference="{$master-reference}-first" odd-or-even="odd" page-position="first"/></xsl:if><xsl:if test="$last"><fo:conditional-page-master-reference master-reference="{$master-reference}-last" odd-or-even="even" page-position="last"/></xsl:if><xsl:choose><xsl:when test="$mirror-page-margins"><xsl:if test="$blank"><fo:conditional-page-master-reference master-reference="{$master-reference}-odd--blank" odd-or-even="odd" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="{$master-reference}-even--blank" odd-or-even="even" blank-or-not-blank="blank"/></xsl:if><fo:conditional-page-master-reference master-reference="{$master-reference}-odd" odd-or-even="odd"/><fo:conditional-page-master-reference master-reference="{$master-reference}-even" odd-or-even="even"/></xsl:when><xsl:otherwise><xsl:if test="$blank"><fo:conditional-page-master-reference master-reference="{$master-reference}-odd--blank" odd-or-even="odd" blank-or-not-blank="blank"/></xsl:if><fo:conditional-page-master-reference master-reference="{$master-reference}-odd"/></xsl:otherwise></xsl:choose></fo:repeatable-page-master-alternatives></fo:page-sequence-master></xsl:template></xsl:stylesheet>